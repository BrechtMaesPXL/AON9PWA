import{_ as w,V as y,i as D,j as S,r as m,c as v,b as l,k as p,n as _,h as k,w as i,e as s,l as x,v as H,f as G,o as g,m as b,t as N,p as T,a as U}from"./index-CZpC5zdB.js";import{_ as q}from"./go-back-arrow-nsKLNE-b.js";const A={name:"AddHorse",data(){return{name:"",height:"",birthYear:"",horseLog:"",birthDate:"",colorCode:"",error:null,user:y.get("userInfo"),selectedGender:"Merrie"}},methods:{goToHomePage(){return this.$router.push({name:"home"})},chooseGender(o){this.selectedGender=o},async clickAddHorse(){try{const o=parseFloat(this.height.replace(",","."));if(isNaN(o)||o<=0)throw new TypeError("Invalid value for height");if(this.name===""||this.birthYear===""||this.horseLog==="")throw new TypeError("Please fill in all required fields");const e=new Date(this.birthYear,0,1),u={year:new Date().getFullYear(),geboortedagboek:this.horseLog},c={name:this.name,seize:o,birthDate:e,log:JSON.stringify(u)};await D().addHorse(c)&&this.$router.push("/")}catch(o){this.error=o.message||"An error occurred while adding the horse."}},async clickAddStallion(){try{const o=parseFloat(this.height.replace(",","."));if(isNaN(o)||o<=0)throw new TypeError("Invalid value for height");if(this.name===""||this.birthDate===""||this.colorCode==="")throw new TypeError("Please fill in all required fields");const e=new Date(this.birthDate),u={name:this.name,size:o,birthDate:e,colorCode:this.colorCode};await S().addStallion(u)&&this.$router.push("/")}catch(o){this.error=o.message||"An error occurred while adding the horse."}},checkUser(){if(console.log(this.user),this.user!==null)return!0;this.$router.push("/login")},async startCamera(){try{const o=await navigator.mediaDevices.getUserMedia({video:!0}),e=this.$refs.video;e.srcObject=o}catch(o){console.error("Error accessing camera:",o)}},stopCamera(){const o=this.$refs.video;o.srcObject.getTracks().forEach(c=>c.stop()),o.srcObject=null}}},d=o=>(T("data-v-45fb64fa"),o=o(),U(),o),E={key:0},I={class:"header-content"},j=d(()=>l("h1",null,[l("strong",null,"Paard toevoegen")],-1)),M={class:"gender-button-container"},P=d(()=>l("br",null,null,-1)),Y=d(()=>l("a",null,"Voeg Toe",-1)),z=d(()=>l("br",null,null,-1)),L=d(()=>l("a",null,"Voeg Toe",-1)),O=d(()=>l("h1",null,"Camera Access Demo",-1)),B={ref:"video",autoplay:""};function F(o,e,u,c,t,n){const a=m("v-text-field"),V=m("v-textarea"),h=m("v-btn"),f=m("v-form"),C=m("v-alert");return g(),v(G,null,[n.checkUser()?(g(),v("header",E,[l("div",I,[l("img",{src:q,alt:"go back",class:"go-back",onClick:e[0]||(e[0]=(...r)=>n.goToHomePage&&n.goToHomePage(...r))}),j])])):p("",!0),l("div",M,[l("button",{class:_(["button-gender button-merrie",{selected:t.selectedGender==="Merrie"}]),onClick:e[1]||(e[1]=r=>n.chooseGender("Merrie"))},"Merrie",2),l("button",{class:_(["button-gender button-hengst",{selected:t.selectedGender==="Hengst"}]),onClick:e[2]||(e[2]=r=>n.chooseGender("Hengst"))},"Hengst",2)]),t.selectedGender==="Merrie"?(g(),k(f,{key:1,class:"ma-5 mt-16 d-flex flex-column"},{default:i(()=>[P,s(a,{variant:"outlined",modelValue:t.name,"onUpdate:modelValue":e[3]||(e[3]=r=>t.name=r),label:"Name",required:"",class:"mt-5"},null,8,["modelValue"]),s(a,{variant:"outlined",modelValue:t.height,"onUpdate:modelValue":e[4]||(e[4]=r=>t.height=r),label:"Stokhoogte",required:"",type:"number"},null,8,["modelValue"]),s(a,{variant:"outlined",modelValue:t.birthYear,"onUpdate:modelValue":e[5]||(e[5]=r=>t.birthYear=r),label:"Geboortejaar",required:"",type:"number"},null,8,["modelValue"]),s(V,{modelValue:t.horseLog,"onUpdate:modelValue":e[6]||(e[6]=r=>t.horseLog=r),label:"Geboortedagboek",variant:"outlined",rows:"8"},null,8,["modelValue"]),s(h,{class:"mt-5",color:"#5f4f36",onClick:n.clickAddHorse},{default:i(()=>[Y]),_:1},8,["onClick"])]),_:1})):p("",!0),t.selectedGender==="Hengst"?(g(),k(f,{key:2,class:"ma-5 mt-16 d-flex flex-column"},{default:i(()=>[z,s(a,{variant:"outlined",modelValue:t.name,"onUpdate:modelValue":e[7]||(e[7]=r=>t.name=r),label:"Name",required:"",class:"mt-5"},null,8,["modelValue"]),s(a,{variant:"outlined",modelValue:t.height,"onUpdate:modelValue":e[8]||(e[8]=r=>t.height=r),label:"Stokhoogte",required:"",type:"number"},null,8,["modelValue"]),s(a,{variant:"outlined",modelValue:t.birthDate,"onUpdate:modelValue":e[9]||(e[9]=r=>t.birthDate=r),label:"Geboortejaar",required:"",type:"date"},null,8,["modelValue"]),s(a,{variant:"outlined",modelValue:t.colorCode,"onUpdate:modelValue":e[10]||(e[10]=r=>t.colorCode=r),label:"Kleurcode",required:""},null,8,["modelValue"]),s(h,{class:"mt-5",color:"#5f4f36",onClick:n.clickAddStallion},{default:i(()=>[L]),_:1},8,["onClick"])]),_:1})):p("",!0),l("div",null,[O,l("video",B,null,512),s(h,{onClick:n.startCamera},{default:i(()=>[b("Start Camera")]),_:1},8,["onClick"]),s(h,{onClick:n.stopCamera},{default:i(()=>[b("Stop Camera")]),_:1},8,["onClick"])]),l("div",null,[x(s(C,{title:"Oops something went wrong!",type:"error",class:"mx-5"},{default:i(()=>[b(N(t.error),1)]),_:1},512),[[H,t.error]])])],64)}const Q=w(A,[["render",F],["__scopeId","data-v-45fb64fa"]]);export{Q as default};
